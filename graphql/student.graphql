# Object Type
type Student {
    id: ID!
    surname: String!
    otherNames: String!
    picture: String!
    dob: Date!
    gender: Gender!
    programme: Programme! @belongsTo
    paymentRecords: [PaymentRecord!]! @hasMany
    booksRecords: [BookRecord!]! @hasMany
    contact: Contact @belongsTo
    # add more later
}

# Create Input Type
input StudentCreateInput {
    surname: String! @trim
    otherNames: String! @trim
    picture: String @trim
    dob: Date!
    gender: Gender!
    programme: ProgrammeOperation!
    paymentRecords: [PaymentRecordOperations!]
    booksRecords: [BookRecordStudentOperations!]
    contact: ContactOperation!
}

# Update Input Type
input StudentUpdateInput {
    id: ID!
    surname: String @trim
    otherNames: String @trim
    picture: String @trim
    dob: Date
    gender: Gender
    programme: ProgrammeOperation
    paymentRecords: [PaymentRecordOperations!]
    booksRecords: [BookRecordStudentOperations!]
    contact: ContactOperation
}

# Single Nested Mutations
input StudentOperation {
    create: StudentCreateInput
    connect: ID
    update: StudentUpdateInput
    upsert: StudentCreateInput
    sync: ID
    syncWithoutDetaching: ID
    delete: ID
    disconnect: ID
}

# List Nested Mutations
input StudentOperations {
    create: [StudentCreateInput!]
    connect: ID
    update: [StudentUpdateInput!]
    upsert: [StudentCreateInput!]
    sync: ID
    syncWithoutDetaching: ID
    delete: ID
    disconnect: ID
}

# Query
extend type Query {
    student(id: Int! @eq): Student @find
    students: [Student!] @all
}

# Mutation
extend type Mutation {
    createStudent(input: StudentCreateInput! @spread): Student @create
    updateStudent(input: StudentUpdateInput! @spread): Student @update
    upsertStudent(input: StudentCreateInput! @spread): Student @upsert
    deleteStudent(id: ID! @eq): Student @delete
}
