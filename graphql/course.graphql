# Object Type
type Course {
    id: ID!
    title: String!
    courseCode: String!
    creditHours: Int
    books: [Book!] @belongsToMany
    created_at: DateTime!
    updated_at: DateTime!
}

# Input Type
input CourseInput {
    id: ID @eq
    title: String
    courseCode: String
    creditHours: Int
    books: BookOperations
}

# Single Nested Mutations
input CourseOperation {
    create: CourseInput!
    connect: ID!
    update: CourseInput!
    upsert: CourseInput!
    sync: ID!
    syncWithoutDetaching: ID!
    delete: ID!
    disconnect: ID!
}

# List Nested Mutations
input CourseOperations {
    create: [CourseInput!]
    connect: [ID!]
    update: [CourseInput!]
    upsert: [CourseInput!]
    sync: [ID!]
    syncWithoutDetaching: [ID!]
    delete: [ID!]
    disconnect: [ID!]
}

# Query
extend type Query {
    course(id: ID! @eq): Course @find
    courses(title: String @where(operator: "%LIKE%")): [Course!]! @all
}

# Mutation
extend type Mutation {
    createCourse(input: CourseInput! @spread): Course @create
    updateCourse(input: CourseInput! @spread): Course @update
    upsertCourse(input: CourseInput! @spread): Course @upsert
    deleteCourse(id: ID! @eq): Course @delete
}
